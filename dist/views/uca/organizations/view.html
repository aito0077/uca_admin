<div class="page page-profile" data-ng-controller="organization-view">

    <header class="profile-header">
        <!--div class="row">
            <ul class="list-inline">
                <li>{{organization.name}}</li>
            </ul>
            <span class="btn btn-danger pull-right" ng-click="edit(organization.id)">Editar</span>
        </div-->
        <div class="row">
            <div class="col-md-3 col-lg-3">
                <img ng-src="http://images.collab-dev.com/300x/smart/uca/{{organization.main_picture}}" class="img-rounded img-responsive">
            </div>
            <div class="col-md-9 col-lg-9">
                <h2>{{organization.name}}</h2>
            </div>
        </div>

        <div class="profile-info">
            <div class="row">
                <div class="col-md-10">
                    <ul class="list-unstyled list-inline">
                        <!--li><span class="btn" ng-click="showActivities()"><i class="fa fa-users"></i> Actividades <span class="text-muted">({{organization.activities.length}})</span></span></li-->
                        <li><span class="btn" ng-click="showMedias()"><i class="fa fa-photo"></i> Imagenes <span class="text-muted">({{organization.medias.length}})</span></span></li>
                    </ul>
                </div>
                <div class="col-md-2">
                    <span class="btn btn-danger pull-right" ng-click="edit(organization.id)">Editar</span>
                </div>
            </div>
        </div>
    </header>


    <!--div class="panel panel-default" data-ng-controller="organization-activities" ng-if="show_activities">
        <div class="panel-header">
            <h2 class="section-header">Actividades</h2>
            <span class="btn btn-primary pull-right" ng-click="addActivity()">Agregar Actividad</span>
        </div>
        <div class="panel-body">
            <div class="ui-timline-container">
                <section class="ui-timeline">
                        <article class="tl-item"  ng-repeat-start="(key,val) in activities_dates">
                            <div class="tl-body">
                                <div class="tl-entry">
                                    <div class="tl-caption">
                                        <a href="javascript:;" class="btn btn-primary btn-block">{{key | moment: 'DD MMM YYYY'}}</a>
                                    </div>
                                </div>
                            </div>
                        </article>



                        <article ng-repeat-end class="tl-item" ng-class-odd="'alt'" ng-repeat="activity in val" >
                                <div class="tl-body">
                                    <div class="tl-entry">
                                        <div class="tl-time">{{activity.event_date | moment: 'HH:mm'}}</div>
                                        <div class="tl-icon">
                                            <img ng-src="http://images.collab-dev.com/60x60/smart/uca/{{activity.main_picture}}" class="img-responsive img-rounded" >
                                        </div>
                                        <div class="tl-content" ng-click="viewActivity(activity.id)" style="cursor: pointer">
                                            <h4 class="tl-tile text-primary">{{activity.title}}</h4>
                                            <p>{{activity.description}}</p>
                                        </div>

                                    </div>
                                </div>
                        </article>

                </section>
            </div>

        </div>
    </div-->
 
    <div class="panel panel-default" data-ng-controller="organization-medias" ng-if="show_medias">
        <div class="panel-header">
            <div class="row">
                <div class="col-md-10">
                    <h2 class="section-header">Galería</h2>
                </div>
                <div class="col-md-2">
                    <span class="btn btn-primary pull-right" ng-click="addMedia()" ng-hide="adding_media">Agregar Imágen</span>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="col-md-12" ng-show="adding_media">
                <div class="form-group">
                    <label for="">Titulo</label>
                    <input  type="text" class="form-control" required data-ng-model="media.title" >
                </div>
                <div class="form-group">
                    <label for="">Descripción</label>
                    <textarea class="form-control" rows="3" data-ng-model="media.description"></textarea>
                </div>
                <div class="form-group">
                    <img ng-if="uploading" ng-src="/images/loading.gif" height="300px" class="img-responsive">
                </div>

                <div class="btn btn-primary btn-upload" upload-button 
                    url="{{upload_url}}"
                    param="file"
                    data="media"
                    accept="image/*"
                    multiple="false"
                    force-iframe-upload="{{forceIframeUpload}}"
                    required="false"
                    on-upload="onUpload(files)" 
                    on-success="onSuccess(response)" 
                    on-error="onError(response)"
                    on-complete="onComplete(response)">
                    Subir Imágen
                </div >
                <button class="btn btn-default btn-w-md" ui-wave data-ng-click="cancelUpload()">Cancelar</button>
            </div>
            <div class="col-md-12" ng-hide="adding_media">
                <div class="row">
                    <div class="col-md-4" ng-repeat="media in medias">
                        <div class="ih-item ih-material">
                            <a href>
                                <div class="img">
                                    <img ng-src="http://images.collab-dev.com/600x400/smart/uca/{{media.name}}">
                                </div>
                                <div class="info">
                                    <div class="info-mask bg-primary"></div>
                                    <div class="info-content">
                                        <div class="info-inner">
                                            <h3>{{media.title}}</h3>
                                            <p>{{media.description}}</p>
                                            <div>
                                                <span class="btn btn-primary" ng-click="selectAsMainPicture(media)">Principal</span>
                                                <span class="btn btn-danger" ng-click="delete(media)">Eliminar</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>                            
                    </div>                            

                </div>            
            </div>

        </div>
    </div>
  

</div>


